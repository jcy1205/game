<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        function computerPlay() {
            let num = Math.round(Math.random() * 10);
            num = num % 3;
            switch(num) {
                case 0:
                    return('scissors');
                case 1:
                    return('rock');
                case 2:
                    return('paper');
            }
        }
        function playRound(playerSelection, computerSelection) {
            console.log("playerSelection is " + playerSelection);
            console.log("computerSelection is " + computerSelection);
            if(playerSelection.toLowerCase() === 'rock' ) {
                if(computerSelection.toLowerCase() === 'rock') {
                    alert("Try again. Both are rock");
                    return("");
                }
                
                else if(computerSelection.toLowerCase() ==='scissors'){
                    alert("You win! Rock beat scissors");
                    return("win");
                }
                else {
                    alert("You lose! paper beats rock");
                    return("lose");
                }
            }
            else if(playerSelection.toLowerCase() === 'paper') {
                if(computerSelection.toLowerCase() === 'rock') {
                    alert("You win! paper beat rock");
                    return("win");
                }
            
                else if(computerSelection.toLowerCase() ==='scissors'){
                    alert("You lose! scissors beats paper");
                    return("lose");
                }
                else {
                    alert("Try again. Both are papers");
                    return("");
                }
            }
            else {
                if(computerSelection.toLowerCase() === 'rock') {
                    alert("You lose! rock beats scissors");
                    return("lose");
                }
                
                else if(computerSelection.toLowerCase() ==='scissors'){
                    alert("Try again. Both are scissors");
                    return("");
                }
                else {
                    alert("You win! scissors beat paper");
                    return("win");
                }
            }

        }
        function game() {
            let playerSelection ='';
            let computerSelection = '';
            let result ="";
            let score = 0;
            for(let i=0; i < 5; i++){
                playerSelection = prompt("What's your sign");
                playerSelection = playerSelection.toLowerCase();
                if(playerSelection ==='rock'|| playerSelection ==='scissors' || playerSelection === 'paper') {
                    computerSelection = computerPlay();
                    result = playRound(playerSelection, computerSelection);
                    if(result === 'win')
                        score++;
                    else if(result === 'lose')
                        score--;
                    
                }
                else {
                    alert("Your sign is incorrect. Try again");
                    i--;
                }
            }
            if(score > 0) 
                alert('You win');
            else 
                alert('You lose');
     

        }
    //    const playerSelection = 'Scissors';
    //    const computerSelection = computerPlay();
    //    console.log(playRound(playerSelection, computerSelection));
        game();
    
    </script>


</body>
</html>